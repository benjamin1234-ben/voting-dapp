import { createSlice } from "@reduxjs/toolkit";

export const votingSlice = createSlice({
	name : "VotingState",
	initialState : {
		votingCtcABI : JSON.parse(
			`{
			  "_format": "hh-sol-artifact-1",
			  "contractName": "Vote",
			  "sourceName": "contracts/Voting.sol",
			  "abi": [
			    {
			      "inputs": [
			        {
			          "internalType": "string[]",
			          "name": "candidateNames",
			          "type": "string[]"
			        }
			      ],
			      "stateMutability": "nonpayable",
			      "type": "constructor"
			    },
			    {
			      "inputs": [
			        {
			          "internalType": "string",
			          "name": "",
			          "type": "string"
			        }
			      ],
			      "name": "candidates",
			      "outputs": [
			        {
			          "internalType": "string",
			          "name": "name",
			          "type": "string"
			        },
			        {
			          "internalType": "uint256",
			          "name": "voteCount",
			          "type": "uint256"
			        }
			      ],
			      "stateMutability": "view",
			      "type": "function"
			    },
			    {
			      "inputs": [
			        {
			          "internalType": "address",
			          "name": "to",
			          "type": "address"
			        }
			      ],
			      "name": "delegateVote",
			      "outputs": [],
			      "stateMutability": "nonpayable",
			      "type": "function"
			    },
			    {
			      "inputs": [
			        {
			          "internalType": "address",
			          "name": "voter",
			          "type": "address"
			        }
			      ],
			      "name": "getRightToVote",
			      "outputs": [],
			      "stateMutability": "nonpayable",
			      "type": "function"
			    },
			    {
			      "inputs": [
			        {
			          "internalType": "string",
			          "name": "candidate",
			          "type": "string"
			        }
			      ],
			      "name": "vote",
			      "outputs": [],
			      "stateMutability": "nonpayable",
			      "type": "function"
			    },
			    {
			      "inputs": [
			        {
			          "internalType": "address",
			          "name": "",
			          "type": "address"
			        }
			      ],
			      "name": "voters",
			      "outputs": [
			        {
			          "internalType": "string",
			          "name": "vote",
			          "type": "string"
			        },
			        {
			          "internalType": "bool",
			          "name": "voted",
			          "type": "bool"
			        },
			        {
			          "internalType": "address",
			          "name": "delegate",
			          "type": "address"
			        },
			        {
			          "internalType": "uint256",
			          "name": "weight",
			          "type": "uint256"
			        }
			      ],
			      "stateMutability": "view",
			      "type": "function"
			    }
			  ],
			  "bytecode": "0x60806040523480156200001157600080fd5b5060405162000d8438038062000d848339810160408190526200003491620001b6565b60005b8151811015620001085760405180604001604052808383815181106200006d57634e487b7160e01b600052603260045260246000fd5b6020026020010151815260200160008152506001838381518110620000a257634e487b7160e01b600052603260045260246000fd5b6020026020010151604051620000b99190620002b8565b90815260200160405180910390206000820151816000019080519060200190620000e592919062000110565b506020919091015160019091015580620000ff8162000379565b91505062000037565b5050620003b7565b8280546200011e906200033c565b90600052602060002090601f0160209004810192826200014257600085556200018d565b82601f106200015d57805160ff19168380011785556200018d565b828001600101855582156200018d579182015b828111156200018d57825182559160200191906001019062000170565b506200019b9291506200019f565b5090565b5b808211156200019b5760008155600101620001a0565b60006020808385031215620001c9578182fd5b82516001600160401b0380821115620001e0578384fd5b8185019150601f8681840112620001f5578485fd5b8251828111156200020a576200020a620003a1565b620002198586830201620002d6565b81815285810190858701885b84811015620002a857815188018c603f82011262000241578a8bfd5b898101516040898211156200025a576200025a620003a1565b6200026d828a01601f19168d01620002d6565b8281528f8284860101111562000281578d8efd5b62000292838e830184870162000309565b8752505050928801929088019060010162000225565b50909a9950505050505050505050565b60008251620002cc81846020870162000309565b9190910192915050565b604051601f8201601f191681016001600160401b0381118282101715620003015762000301620003a1565b604052919050565b60005b83811015620003265781810151838201526020016200030c565b8381111562000336576000848401525b50505050565b6002810460018216806200035157607f821691505b602082108114156200037357634e487b7160e01b600052602260045260246000fd5b50919050565b60006000198214156200039a57634e487b7160e01b81526011600452602481fd5b5060010190565b634e487b7160e01b600052604160045260246000fd5b6109bd80620003c76000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063a3ec138d1461005c578063a77d8a9d14610088578063b31e1d4d1461009d578063c5539cc2146100b0578063fc36e15b146100d1575b600080fd5b61006f61006a3660046106cd565b6100e4565b60405161007f9493929190610888565b60405180910390f35b61009b6100963660046106cd565b6101a2565b005b61009b6100ab3660046106cd565b61025a565b6100c36100be3660046106fb565b61045c565b60405161007f9291906108c0565b61009b6100df3660046106fb565b61050b565b6000602081905290815260409020805481906100ff90610936565b80601f016020809104026020016040519081016040528092919081815260200182805461012b90610936565b80156101785780601f1061014d57610100808354040283529160200191610178565b820191906000526020600020905b81548152906001019060200180831161015b57829003601f168201915b505050506001830154600290930154919260ff8116926101009091046001600160a01b0316915084565b6001600160a01b03811660009081526020819052604090206001015460ff16156102135760405162461bcd60e51b815260206004820152601c60248201527f54686520566f7465722068617320616c726561647920766f7465642e0000000060448201526064015b60405180910390fd5b6001600160a01b0381166000908152602081905260409020600201541561023957600080fd5b6001600160a01b031660009081526020819052604090206001600290910155565b336000908152602081905260409020600181015460ff16156102b35760405162461bcd60e51b81526020600482015260126024820152712cb7ba9030b63932b0b23c903b37ba32b21760711b604482015260640161020a565b6001600160a01b03821633141561030c5760405162461bcd60e51b815260206004820152601f60248201527f53656c662044656c65676174696f6e206973206e6f7420616c6c6f7765642e00604482015260640161020a565b6001600160a01b03828116600090815260208190526040902060010154610100900416156103af576001600160a01b03918216600090815260208190526040902060010154610100900490911690338214156103aa5760405162461bcd60e51b815260206004820152601960248201527f466f756e64206c6f6f7020696e2064656c65676174696f6e2e00000000000000604482015260640161020a565b61030c565b6001818101805460ff19168217610100600160a81b0319166101006001600160a01b0386169081029190911790915560009081526020819052604090209081015460ff161561043957600282015460405160019061040e9084906107ed565b9081526020016040518091039020600101600082825461042e91906108e2565b909155506104579050565b816002015481600201600082825461045191906108e2565b90915550505b505050565b805160208183018101805160018252928201919093012091528054819061048290610936565b80601f01602080910402602001604051908101604052809291908181526020018280546104ae90610936565b80156104fb5780601f106104d0576101008083540402835291602001916104fb565b820191906000526020600020905b8154815290600101906020018083116104de57829003601f168201915b5050505050908060010154905082565b33600090815260208190526040902060028101546105635760405162461bcd60e51b81526020600482015260156024820152742430b9903737903934b3b43a103a37903b37ba329760591b604482015260640161020a565b600181015460ff16156105a95760405162461bcd60e51b815260206004820152600e60248201526d20b63932b0b23c903b37ba32b21760911b604482015260640161020a565b6001818101805460ff1916821790556040516105c69084906107d1565b90815260405190819003602001902080548291906105e390610936565b6105ee92919061062d565b50806002015460018360405161060491906107d1565b9081526020016040518091039020600101600082825461062491906108e2565b90915550505050565b82805461063990610936565b90600052602060002090601f01602090048101928261065b57600085556106a8565b82601f1061066c57805485556106a8565b828001600101855582156106a857600052602060002091601f016020900482015b828111156106a857825482559160010191906001019061068d565b506106b49291506106b8565b5090565b5b808211156106b457600081556001016106b9565b6000602082840312156106de578081fd5b81356001600160a01b03811681146106f4578182fd5b9392505050565b60006020828403121561070c578081fd5b813567ffffffffffffffff80821115610723578283fd5b818401915084601f830112610736578283fd5b81358181111561074857610748610971565b604051601f8201601f19908116603f0116810190838211818310171561077057610770610971565b81604052828152876020848701011115610788578586fd5b826020860160208301379182016020019490945295945050505050565b600081518084526107bd816020860160208601610906565b601f01601f19169290920160200192915050565b600082516107e3818460208701610906565b9190910192915050565b815460009081906002810460018083168061080957607f831692505b602080841082141561082957634e487b7160e01b87526022600452602487fd5b81801561083d576001811461084e5761087a565b60ff1986168952848901965061087a565b60008a815260209020885b868110156108725781548b820152908501908301610859565b505084890196505b509498975050505050505050565b60006080825261089b60808301876107a5565b9415156020830152506001600160a01b03929092166040830152606090910152919050565b6000604082526108d360408301856107a5565b90508260208301529392505050565b6000821982111561090157634e487b7160e01b81526011600452602481fd5b500190565b60005b83811015610921578181015183820152602001610909565b83811115610930576000848401525b50505050565b60028104600182168061094a57607f821691505b6020821081141561096b57634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052604160045260246000fdfea26469706673582212203f99ad46dde2543ea5354ae003fb48f692bad4cf0a0637023ff0a306a692d2ef64736f6c63430008020033",
			  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100575760003560e01c8063a3ec138d1461005c578063a77d8a9d14610088578063b31e1d4d1461009d578063c5539cc2146100b0578063fc36e15b146100d1575b600080fd5b61006f61006a3660046106cd565b6100e4565b60405161007f9493929190610888565b60405180910390f35b61009b6100963660046106cd565b6101a2565b005b61009b6100ab3660046106cd565b61025a565b6100c36100be3660046106fb565b61045c565b60405161007f9291906108c0565b61009b6100df3660046106fb565b61050b565b6000602081905290815260409020805481906100ff90610936565b80601f016020809104026020016040519081016040528092919081815260200182805461012b90610936565b80156101785780601f1061014d57610100808354040283529160200191610178565b820191906000526020600020905b81548152906001019060200180831161015b57829003601f168201915b505050506001830154600290930154919260ff8116926101009091046001600160a01b0316915084565b6001600160a01b03811660009081526020819052604090206001015460ff16156102135760405162461bcd60e51b815260206004820152601c60248201527f54686520566f7465722068617320616c726561647920766f7465642e0000000060448201526064015b60405180910390fd5b6001600160a01b0381166000908152602081905260409020600201541561023957600080fd5b6001600160a01b031660009081526020819052604090206001600290910155565b336000908152602081905260409020600181015460ff16156102b35760405162461bcd60e51b81526020600482015260126024820152712cb7ba9030b63932b0b23c903b37ba32b21760711b604482015260640161020a565b6001600160a01b03821633141561030c5760405162461bcd60e51b815260206004820152601f60248201527f53656c662044656c65676174696f6e206973206e6f7420616c6c6f7765642e00604482015260640161020a565b6001600160a01b03828116600090815260208190526040902060010154610100900416156103af576001600160a01b03918216600090815260208190526040902060010154610100900490911690338214156103aa5760405162461bcd60e51b815260206004820152601960248201527f466f756e64206c6f6f7020696e2064656c65676174696f6e2e00000000000000604482015260640161020a565b61030c565b6001818101805460ff19168217610100600160a81b0319166101006001600160a01b0386169081029190911790915560009081526020819052604090209081015460ff161561043957600282015460405160019061040e9084906107ed565b9081526020016040518091039020600101600082825461042e91906108e2565b909155506104579050565b816002015481600201600082825461045191906108e2565b90915550505b505050565b805160208183018101805160018252928201919093012091528054819061048290610936565b80601f01602080910402602001604051908101604052809291908181526020018280546104ae90610936565b80156104fb5780601f106104d0576101008083540402835291602001916104fb565b820191906000526020600020905b8154815290600101906020018083116104de57829003601f168201915b5050505050908060010154905082565b33600090815260208190526040902060028101546105635760405162461bcd60e51b81526020600482015260156024820152742430b9903737903934b3b43a103a37903b37ba329760591b604482015260640161020a565b600181015460ff16156105a95760405162461bcd60e51b815260206004820152600e60248201526d20b63932b0b23c903b37ba32b21760911b604482015260640161020a565b6001818101805460ff1916821790556040516105c69084906107d1565b90815260405190819003602001902080548291906105e390610936565b6105ee92919061062d565b50806002015460018360405161060491906107d1565b9081526020016040518091039020600101600082825461062491906108e2565b90915550505050565b82805461063990610936565b90600052602060002090601f01602090048101928261065b57600085556106a8565b82601f1061066c57805485556106a8565b828001600101855582156106a857600052602060002091601f016020900482015b828111156106a857825482559160010191906001019061068d565b506106b49291506106b8565b5090565b5b808211156106b457600081556001016106b9565b6000602082840312156106de578081fd5b81356001600160a01b03811681146106f4578182fd5b9392505050565b60006020828403121561070c578081fd5b813567ffffffffffffffff80821115610723578283fd5b818401915084601f830112610736578283fd5b81358181111561074857610748610971565b604051601f8201601f19908116603f0116810190838211818310171561077057610770610971565b81604052828152876020848701011115610788578586fd5b826020860160208301379182016020019490945295945050505050565b600081518084526107bd816020860160208601610906565b601f01601f19169290920160200192915050565b600082516107e3818460208701610906565b9190910192915050565b815460009081906002810460018083168061080957607f831692505b602080841082141561082957634e487b7160e01b87526022600452602487fd5b81801561083d576001811461084e5761087a565b60ff1986168952848901965061087a565b60008a815260209020885b868110156108725781548b820152908501908301610859565b505084890196505b509498975050505050505050565b60006080825261089b60808301876107a5565b9415156020830152506001600160a01b03929092166040830152606090910152919050565b6000604082526108d360408301856107a5565b90508260208301529392505050565b6000821982111561090157634e487b7160e01b81526011600452602481fd5b500190565b60005b83811015610921578181015183820152602001610909565b83811115610930576000848401525b50505050565b60028104600182168061094a57607f821691505b6020821081141561096b57634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052604160045260246000fdfea26469706673582212203f99ad46dde2543ea5354ae003fb48f692bad4cf0a0637023ff0a306a692d2ef64736f6c63430008020033",
			  "linkReferences": {},
			  "deployedLinkReferences": {}
			}`
		),
		votingCtcAddress : "0xBbB5d566c83D7dA72F682158aEA1Af1bbcfaF04b",
		id : "",
		address : [],
		voter : [],
		voters : [],
		candidates : []
	},
	reducers : {
		updateId : (state, actions) => {
			state.id = actions.payload;
		},
		updateAddress : (state, actions) => {
			state.address = actions.payload;
		},
		updateVoter : (state, actions) => {
			state.voter = actions.payload;
		},
		updateVoters : (state, actions) => {
			state.voters = actions.payload;
		},
		updateCandidates : (state, actions) => {
			state.candidates = actions.payload;
		}
	}
});

export const { updateId, updateAddress, updateVoter, updateVoters, updateCandidates } = votingSlice.actions;

export default votingSlice.reducer;